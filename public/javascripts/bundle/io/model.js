!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c){var d=/\{([a-zA-A]+)\}/g;return a.replace(d,function(a,d){return c?encodeURIComponent(b[d]):b[d]})}var e=a("libio-ioconfig"),f=a("libio-interio"),g=a("./storage");e.login.filter=function(a){return"A0002"==a.code},e.login.url="http://baidu.com/",e.fail.filter=function(a){return"A0001"!=a.code},e.iocall.fail=function(a){_APP.Toast.show(a.errmsg||"网络错误")},e.iocall.error=function(a,b,c){_APP.Toast.show(b||"网络错误")},e.ioargs.beforeSend=function(){console.log("请求开始")},e.iocall.complete=function(){console.log("请求结束")},e.ioargs.crossDomain=!0;var h="http://127.0.0.1:8000";b.exports={main:function(a,b,c){var e=d(h+"/tracer/main/trace/{id}",c,!0);f.transRequest($.extend({url:e,method:"GET"},a),b)},listdata:function(a,b){f.transRequest($.extend({url:h+"/listdata",method:"POST",customconfig:{storage:g.listdata}},a),b)},login:function(a,b){f.transRequest($.extend({url:"/users/login",method:"POST"},a),b)},$interio:f,basehost:h}},{"./storage":2,"libio-interio":3,"libio-ioconfig":4}],2:[function(a,b,c){"use strict";var d=a("libio-storage");b.exports={listdata:d.create({maxage:"1D",key:"listdata"}),listdatatwo:d.create({maxage:"0.1H",key:"listdatatwo"})}},{"libio-storage":5}],3:[function(a,b,c){"use strict";function d(){this.queue=[],this.inprocess=!1,this.complete=function(){}}function e(a,b,c){var d={},e={};$.extend(!0,d,h.ioargs,a),$.extend(!0,e,h.iocall,b),h.format(d);var f=e.success,g=e.complete,i=d.customconfig.deallogin,j=d.customconfig.dealfail,k=d.customconfig.dealdata;return e.success=function(a,b,c){if(i&&"function"==typeof h.login.filter&&h.login.filter(a)){if(""!=h.login.url){var g=h.login.url,l=h.login.key+"="+encodeURIComponent(location.href);return g=g.lastIndexOf("?")!=-1?g.replace(/\?/,"?"+l):g+"?"+l,void(location.href=g)}if("function"==typeof h.login.deal)return void h.login.deal(a)}j&&"function"==typeof h.fail.filter?h.fail.filter(a)?"function"==typeof e[h.fail.funname]&&e[h.fail.funname](a,b,c):k?"function"==typeof f&&f(d.dealdata(a,b,c),b,c):"function"==typeof f&&f(a,b,c):"function"==typeof f&&f(a,b,c)},d.customconfig.queue&&(e.complete=function(){c.advance(),"function"==typeof g&&g.apply(this,Array.prototype.slice.call(arguments))}),{ioargs:d,iocall:e}}function f(a,b){var c=null,d=a.customconfig.getInter,e=a.customconfig.storage;delete a.customconfig,c=$.ajax(a).done(b.success).fail(b.error).always(b.complete).done(function(a){e&&e instanceof i&&e.set(a)}),c&&"function"==typeof d&&d(c)}function g(a){var b=a.ioargs,c=a.iocall,d=b.customconfig.mode,e=b.customconfig.clearall,g=b.customconfig.storage,h=null;return e&&i.clear(),g&&g instanceof i&&null!=(h=g.get())?(c.success(h,"success",null),void c.complete()):void("ajax"==d?(void 0!=b.dataType&&""!=b.dataType||(b.dataType="json"),f(b,c)):"jsonp"==d?(b.dataType="jsonp",b.crossDomain=!0,f(b,c)):"script"==d&&(b.dataType="script",b.crossDomain=!0,f(b,c)))}var h=a("./ioconfig.js"),i=a("./storage.js");d.prototype.advance=function(){if(0==this.queue.length)return this.inprocess=!1,void("function"==typeof this.complete&&this.complete());var a=this.queue.shift();this.request(a,!0)},d.prototype.request=function(a,b){return this.inprocess&&!b?void this.queue.push(a):(this.inprocess=!0,void g(a))};var j={_queueobjs:[],get:function(){for(var a=null,b=this._queueobjs,c=0,e=b.length;c<e;c++)if(0==b[c].inprocess&&0==b[c].lock){b[c].lock=!0,a=b[c];break}return null==a&&(a=new d,a.lock=!0,this._queueobjs.push(a)),a},end:function(a){for(var b=this._queueobjs,c=0,d=b.length;c<d;c++)if(b[c]==a){b[c].lock=!1;break}}},k=new d;b.exports={transRequest:function(a,b){if(a&&b&&""!=a.url){var c=e(a,b,k);c.ioargs.customconfig.queue?k.request(c):g(c)}},transQueueRequest:function(a,b){if($.isArray(a)&&a.length>0){var c=j.get();c.complete=function(){j.end(c),b&&"function"==typeof b.complete&&b.complete()};for(var d=0,f=a.length;d<f;d++){var g=a[d].ioargs||{},h=a[d].iocall||{};if(g&&h&&""!=g.url){g=$.extend(!0,g,{customconfig:{queue:!0}});var i=e(g,h,c);c.request(i)}}}}}},{"./ioconfig.js":4,"./storage.js":5}],4:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e={};e.login={url:"",key:"go",deal:function(a){},filter:function(a){return!1}},e.fail={funname:"fail",filter:function(a){return!1}},e.ioargs={url:"",method:"GET",contentType:"application/x-www-form-urlencoded",dealdata:function(a){return a.data},customconfig:{mode:"ajax",deallogin:!0,dealfail:!0,dealdata:!0,queue:!1,storage:null,clearall:!1,getInter:function(a){}}},e.iocall={complete:function(){},success:function(a,b,c){},error:function(a,b,c){alert(b||"网络错误")},fail:function(a,b,c){}},e.format=function(a){},e.globalSetup=function(a){"object"==("undefined"==typeof a?"undefined":d(a))&&$.ajaxSetup(a)},b.exports=e},{}],5:[function(a,b,c){"use strict";function d(a){if(a=$.extend({maxage:"1D",key:""},a),""==a.key||""==a.maxage)throw new Error("libio/storage 参数传入错误");if(!/^((\d+)(\.([1-9]{1}))?([MDH]))+$/.test(a.maxage))throw new Error("libio/storage maxage配置格式不正确");a.key=d.groupname+"_"+a.key,this.opt=a}d.prototype._getOutDateTime=function(){for(var a=this.opt.maxage,b=(new Date).getTime(),c=0,d=/(\d+)(\.([1-9]{1}))?([MDH])/g,e=null;null!=(e=d.exec(a));){var f=e[1],g=e[4];switch(e[2]&&(f+=e[2]),f=Number(f),g){case"M":c+=30*f*24;break;case"D":c+=24*f;break;case"H":c+=f}}return b+=60*c*60*1e3},d.prototype.set=function(a){a&&0!=Object.keys(a).length&&localStorage.setItem(this.opt.key,JSON.stringify({endTime:this._getOutDateTime(),data:a}))},d.prototype.get=function(){var a=localStorage.getItem(this.opt.key);return null==a?null:(a=JSON.parse(a),Number(a.endTime)<=(new Date).getTime()?(this.remove(),null):a.data)},d.prototype.remove=function(){localStorage.removeItem(this.opt.key)},d.groupname="ZMRDLB",d.clear=function(){for(var a=new RegExp("^"+d.groupname);localStorage.length>0;){var b=localStorage.key(0);a.test(b)&&localStorage.removeItem(b)}},d.create=function(a){return new d(a)},b.exports=d},{}]},{},[1]);